%

\usepackage[outputdir=build]{minted}
\usepackage{mdframed}
\usemintedstyle{manni}

\renewcommand\listoflistingscaption{Lista de fragmentos de códigos}
\renewcommand\listingscaption{Código}
\AtBeginDocument{\renewcommand*{\thelstlisting}{\thesection.\arabic{lstlisting}}}

\newenvironment{codecaption}{\captionsetup{type=listing}}{}

\newenvironment{mintedcode}[1]
{%
  \VerbatimEnvironment
  \begin{mdframed}[backgroundcolor=code, linecolor=black, topline=false, bottomline=false, leftline=false, rightline=false, userdefinedwidth=\textwidth]
  \begin{minted}[escapeinside=@@]{#1}%
}
{%
  \end{minted}%
  \end{mdframed}%
}

\newmdenv[backgroundcolor=code, linecolor=black, topline=false, bottomline=false, leftline=false, rightline=false, userdefinedwidth=\textwidth]{lw}
\newenvironment{inputcode}{\begin{lw}}{\end{lw}}
